<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>test</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("https://thronesapi.com/api/v2/Characters")
          .then((response) => response.json())

          .then((data) => {
            createCards(data);
            openCards();
          })

          .catch((error) => {
            console.error("Error:", error);
          });
      });

      var counter = 0;
      function createCards(data) {
        data.forEach((item) => {
          if (counter == 0) {
            const cardHtml = `
            <div class="row">
            <div class="card" style="width: 20rem">
              <img
                src="${item.imageUrl}"
                class="card-img-top"
                alt="${item.fullName}n"
              />
              <div class="card-body">
                <h5 class="card-title">${item.fullName}</h5>
                <p class="card-text">
                  <li>ID: ${item.id}</li>
                  <li>First Name: ${item.firstName}</li>
                  <li>Last Name: ${item.lastName}</li>
                  <li>Full Name: ${item.fullName}</li>
                  <li>Title: ${item.title}</li>
                  <li>Family: ${item.family}</li>
                </p>
              </div>
            </div>`;
            document.body.insertAdjacentHTML("beforeend", cardHtml);
            counter++;
          } else if (counter % 3 == 0) {
            const cardHtml = `
            </div><div class="row">
            <div class="card" style="width: 20rem">
            <img
              src="${item.imageUrl}"
              class="card-img-top"
              alt="${item.fullName}n"
            />
            <div class="card-body">
            <h5 class="card-title">${item.fullName}</h5>
            <p class="card-text">
              <li>ID: ${item.id}</li>
              <li>First Name: ${item.firstName}</li>
              <li>Last Name: ${item.lastName}</li>
              <li>Full Name: ${item.fullName}</li>
              <li>Title: ${item.title}</li>
              <li>Family: ${item.family}</li>
            </p>
            </div>
          </div>`;
            document.body.insertAdjacentHTML("beforeend", cardHtml);
            counter++;
          } else {
            const cardHtml1 = `
            <div class="card" style="width: 20rem">
            <img
              src="${item.imageUrl}"
              class="card-img-top"
              alt="${item.fullName}n"
            />
            <div class="card-body">
            <h5 class="card-title">${item.fullName}</h5>
            <p class="card-text">
              <li>ID: ${item.id}</li>
              <li>First Name: ${item.firstName}</li>
              <li>Last Name: ${item.lastName}</li>
              <li>Full Name: ${item.fullName}</li>
              <li>Title: ${item.title}</li>
              <li>Family: ${item.family}</li>
            </p>
            </div>
          </div>`;
            document.body.insertAdjacentHTML("beforeend", cardHtml1);
            counter++;
          }
        });
      }

      function openCards() {
        const modalTriggers = document.querySelectorAll(
          '[data-toggle="modal"]'
        );
        modalTriggers.forEach((trigger) => {
          trigger.click();
        });
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
